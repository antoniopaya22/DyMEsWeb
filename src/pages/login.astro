---
import Layout from '../layouts/Layout.astro';
import LoginForm from '../components/react/LoginForm';
---

<Layout title="Iniciar sesión — DyMEs" forceDark>
  <!-- Full-screen immersive split layout -->
  <div class="relative min-h-screen flex overflow-hidden bg-[#0a0908]">
    <!-- Background layers (full screen) -->
    <div class="absolute inset-0">
      <img src="/landscape.png" alt="" class="absolute inset-0 w-full h-full object-cover" />
      <div class="absolute inset-0 bg-black/50"></div>
      <div class="absolute inset-0" style="background:radial-gradient(ellipse 80% 60% at 35% 50%,rgba(143,61,56,.1),transparent 70%)"></div>
      <div class="absolute inset-0" style="background:radial-gradient(ellipse at center,transparent 30%,rgba(0,0,0,.65) 100%)"></div>
    </div>

    <!-- Left panel — branding (visible on lg+) -->
    <div class="hidden lg:flex lg:w-1/2 relative items-center justify-center z-10 login-left">
      <div class="text-center px-12 max-w-lg">
        <a href="/" class="inline-block mb-8 group">
          <img src="/favicon.svg" alt="DyMEs" class="w-20 h-20 mx-auto drop-shadow-2xl transition-transform group-hover:scale-110" />
        </a>
        <h1 class="font-display font-bold text-white text-4xl leading-tight mb-4 tracking-tight">
          Tu compañero para<br><span class="text-gradient-hero">Mazmorras y Dragones</span>
        </h1>
        <p class="text-base text-[#CDC9B2]/80 leading-relaxed max-w-sm mx-auto mb-10">
          Crea personajes, explora el compendio SRD 5.1 y dirige campañas como Master. Todo en español.
        </p>
        <div class="flex items-center justify-center gap-8 text-[11px] text-[#AAA37B]/70">
          <span class="flex items-center gap-1.5">
            <svg class="w-3.5 h-3.5 text-[#22c55e]/70" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg>
            Gratis
          </span>
          <span class="flex items-center gap-1.5">
            <svg class="w-3.5 h-3.5 text-[#22c55e]/70" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg>
            Web + Android
          </span>
          <span class="flex items-center gap-1.5">
            <svg class="w-3.5 h-3.5 text-[#22c55e]/70" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg>
            SRD 5.1
          </span>
        </div>
      </div>
    </div>

    <!-- Right panel — form (full-bleed card) -->
    <div class="flex-1 flex relative z-10 login-right">
      <!-- Dark overlay behind form on right side (desktop) -->
      <div class="hidden lg:block absolute inset-0" style="background:linear-gradient(90deg,transparent,rgba(10,9,8,.55) 20%,rgba(10,9,8,.75) 100%)"></div>

      <!-- Glass card fills entire panel -->
      <div class="relative z-10 w-full flex flex-col items-center justify-center border-l border-white/[.06] login-card"
           style="background:rgba(14,13,9,.7);backdrop-filter:blur(24px) saturate(150%)">
        <div class="w-full max-w-md px-6 sm:px-10 py-8 sm:py-12">
          <!-- Mobile logo -->
          <div class="lg:hidden text-center mb-8 login-mobile-logo">
            <a href="/" class="inline-flex items-center gap-3 group">
              <img src="/favicon.svg" alt="DyMEs" class="w-10 h-10 transition-transform group-hover:scale-110" />
              <span class="text-xl font-display font-bold text-white tracking-wide">DyMEs</span>
            </a>
            <p class="text-sm text-[#AAA37B] mt-2">Tu compañero para D&D 5e en Español</p>
          </div>

          <LoginForm client:load />

          <!-- Features row below form (mobile only) -->
          <div class="lg:hidden flex items-center justify-center gap-6 mt-8 text-[11px] text-[#AAA37B]/70">
            <span class="flex items-center gap-1.5">
              <svg class="w-3.5 h-3.5 text-[#22c55e]/70" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg>
              Gratis
            </span>
            <span class="flex items-center gap-1.5">
              <svg class="w-3.5 h-3.5 text-[#22c55e]/70" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg>
              Web + Android
            </span>
            <span class="flex items-center gap-1.5">
              <svg class="w-3.5 h-3.5 text-[#22c55e]/70" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg>
              SRD 5.1
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <style>
    /* ── Entrance animations ── */
    .login-left {
      animation: loginSlideFromLeft 0.8s cubic-bezier(0.16,1,0.3,1) both;
    }
    .login-right {
      animation: loginSlideFromRight 0.8s cubic-bezier(0.16,1,0.3,1) 0.1s both;
    }
    .login-card {
      animation: loginCardReveal 0.7s cubic-bezier(0.16,1,0.3,1) 0.3s both;
    }
    .login-mobile-logo {
      animation: loginFadeUp 0.6s cubic-bezier(0.16,1,0.3,1) 0.15s both;
    }

    @keyframes loginSlideFromLeft {
      from { opacity: 0; transform: translateX(-40px); }
      to   { opacity: 1; transform: translateX(0); }
    }
    @keyframes loginSlideFromRight {
      from { opacity: 0; transform: translateX(40px); }
      to   { opacity: 1; transform: translateX(0); }
    }
    @keyframes loginCardReveal {
      from { opacity: 0; transform: translateY(20px) scale(0.97); }
      to   { opacity: 1; transform: translateY(0) scale(1); }
    }
    @keyframes loginFadeUp {
      from { opacity: 0; transform: translateY(12px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    /* Respect motion preferences */
    @media (prefers-reduced-motion: reduce) {
      .login-left,
      .login-right,
      .login-card,
      .login-mobile-logo {
        animation: none !important;
      }
    }
  </style>
</Layout>
